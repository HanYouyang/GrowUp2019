<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>game 1</title>
    <style media='screen'>
        canvas{
            border: 1px black solid;
        }
    </style>
    <!-- 主程序 -->
    <script src="guagame/gua_game.js"></script>
    <script src="guagame/gua_scene.js"></script>
    <script src="guagame/gua_image.js"></script>
    <script src="guagame/utils.js"></script>
    <!-- 各种组件内容 -->
    <script src="scene/main/ball.js"></script>
    <script src="scene/main/block.js"></script>
    <script src="scene/main/paddle.js"></script>
    <!-- 关卡编辑 -->
    <script src="levels.js"></script>
    <!-- 场景情况 -->
    <script src="scene/main/scene.js"></script>
    <script src="scene/end/sceneEnd.js"></script>
    <script src="scene/title/title.js"></script>
</head>
<body> 
    <!-- 别忘记加上这一段主体 -->
    <canvas id='id-canvas' width="1200" height="900"></canvas>
    <hr>
    <input id='id-input-speed' type="range"  value="1">
    <div class=''>
        <!-- <textarea id="id-text-log" cols="200" rows="6"></textarea> -->
    </div>
    <div class=''>
        <label for="">
            <input class='gua-auto-slider' type="range"
            value=''
            data-value='config.player_speed'
            >
            玩家速度：<span class='gua-label'></span>
        </label>
    </div>
    <div class=''>
        <label for="">
            <input class='gua-auto-slider' type="range"
            value=''
            data-value='config.fire_coolDown'
            >
            子弹冷却时间：<span class='gua-label'></span>
        </label>
    </div>
    <div class=''>
            <label for="">
                <input class='gua-auto-slider' type="range"
                value=''
                data-value='config.bullet_speed'
                >
                bullet冷却时间：<span class='gua-label'></span>
            </label>
        </div>
    <div class=''>
        <label for="">
            <input class='gua-auto-slider' type="range"
            value=''
            min='-10'
            max='10'
            data-value='config.cloud_speed'
            >
            cloud速度：<span class='gua-label'></span>
        </label>
    </div>
    <div class=''>
        <label for="">
            <input class='gua-auto-slider' type="range"
            value=''
            data-value='config.enemy_speed'
            >
            enemy速度：<span class='gua-label'></span>
        </label>
    </div>

<script>
    var es = sel => document.querySelectorAll(sel)

    var bindAll = function(sel, eventName, callback){
        var l = es(sel)
        for (let i = 0; i < l.length; i++) {
            var input = l[i]
            input.addEventListener(eventName, function(event){
                callback(event)
            })
        }
    }

    bindAll('.gua-auto-slider', 'input', function(event){
        var target = event.target

        var bindVar = target.dataset.value
        var v = target.value
        eval(bindVar + '=' + v)

        var label = target.closest('label').querySelector('.gua-label')
        label.innerText = v
    })
</script>
<script src=main.js>
//从上写到下的代码就是0分代码，最外层一定只能有函数而不能有变量，程序必须以函数为基础单位
//定义入口，放到特殊函数里面
//这里面有Bug基于draw和异步，可能出现本身不存在的内容会出现阻碍
</script>
</body>
</html> 